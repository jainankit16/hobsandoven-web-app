<div *ngIf="successMsg !='' " class="alert alert-success">
    {{successMsg}}
</div>


<!-- summary section begins here -->
<ngb-accordion *ngIf='!isStepCompleted' #summaryAcc="ngbAccordion" activeIds="programAndJobsitePanel, partnerRef, salesPricingPanel, workOrderSummaryPanel, schedulePanel" [destroyOnHide]="false">
    <ngb-panel id="programAndJobsitePanel" title="Program and Jobsite Project" class="Cards-header">
        <ng-template ngbPanelContent>
            <div class="col-md-12">
                <program-jobsite-summary [selectedJobsite]="quoteLineManager[0]" *ngIf="userState.program['programName']"> </program-jobsite-summary>
            </div>
        </ng-template>
    </ngb-panel>

    <ngb-panel id="salesPricingPanel" title="Sales Pricing per Jobsite" class="Cards-header">
        <ng-template ngbPanelContent>
            <div class="col-md-12">
                <sales-pricing-summary [selectedPricing]="quoteLineManager[0]"></sales-pricing-summary>
            </div>
        </ng-template>
    </ngb-panel>

    <ngb-panel id="workOrderSummaryPanel" title="Work Order Summary" class="Cards-header">
        <ng-template ngbPanelContent>
            <div class="col-md-12">
                <div class="m-2">
                    <span class="font-weight-bold">Work Order Summary</span>
                    <br>
                    <span>{{appointment['WorkOrderSummary']}} </span>
                </div>
            </div>
        </ng-template>
    </ngb-panel>

    <ngb-panel id="salesPricingPanel" title="Sales Pricing per Jobsite" class="Cards-header">
        <ng-template ngbPanelContent>
            <div class="row">
                <div class="col-md-12">
                    <div class="col-md-6">
                        <span class="font-weight-bold">Partner Case Number</span>
                        <br>
                        <span>{{appointment['partnerCaseNumber']}}</span>
                    </div>
                    <div class="col-md-6">
                        <span class="font-weight-bold">Partner PO Number</span>
                        <br>
                        <span>{{appointment['partnerPONumber']}}</span>
                    </div>
                </div>
            </div>
        </ng-template>
    </ngb-panel>

    <ngb-panel id="schedulePanel" title="Schedule" class="Cards-header">
        <ng-template ngbPanelContent>
            <div class="col-md-12">
                <appointment-schedule-summary [appointment]="appointment"></appointment-schedule-summary>
            </div>
        </ng-template>
    </ngb-panel>
</ngb-accordion>
<!-- summary section ends here -->
<br>
<!--Bind all footer button start here-->
<div class="row">
    <div *ngIf="errorMsg !='' " class="col-lg-12 ">
        <div class="alert alert-warning">
            {{errorMsg}}
        </div>
    </div>

    <div class="col-lg-12 text-right">
        <button type="submit" class="btn btn-primary mRight" (click)="goBack()">&laquo; Previous </button>
        <button type="button" class="btn btn-primary mRight" (click)="generateWorkOrder()" *ngIf='!isStepCompleted'> Generate Work Order &raquo;</button>
        <button type="button" class="btn btn-primary" (click)="createNewWorkOrder()" *ngIf='isStepCompleted'> Create New Work Order &raquo;</button>
    </div>
</div>
<!--End here -->