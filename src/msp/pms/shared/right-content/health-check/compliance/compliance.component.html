<ngb-accordion #acc="ngbAccordion" activeIds="jobHealthCheck1" [destroyOnHide]="false">
    <ngb-panel title="Jobsite Health Check #1" id="jobHealthCheck1">
        <ng-template ngbPanelContent>
            <div class="containerSetting">
                <div>
                    <table class="table" width="100%">
                        <tbody>
                            <tr>
                                <td nowrap>Compliant (Green): {{(jobsiteList | filter: 'color': 'lightgreen').length}}</td>
                                <td>|</td>
                                <td nowrap>May be Compliant (Orange): {{(jobsiteList | filter: 'color': 'orange').length}}</td>
                                <td>|</td>
                                <td nowrap>Not Compliant (Red): {{(jobsiteList | filter: 'color': 'red').length}}</td>
                                <td>|</td>
                                <td nowrap>Unknown (Black): {{(jobsiteList | filter: 'color': 'black').length}}</td>

                            </tr>
                        </tbody>
                    </table>

                    <table class="table color-table info-table">
                        <thead>
                            <tr>
                                <th>Jobsite</th>
                                <th>Country</th>
                                <th>Jobsite Key Contact</th>
                                <th>Customer Site contact(Technical Escalation)</th>
                                <th>Customer Site (Admin Escalation)</th>
                                <th>Customer Site (Service Desk)</th>
                                <th>SLA</th>
                                <th>Vendor</th>
                                <th>Distance</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of jobsiteList" class="text-style" [ngStyle]="{'background-color':item.color,'color': item.textColor}">
                                <td>
                                    <a href="javascript:void(0);" (click)="openDetailPage(jobsitedetail,'xxl',item)">{{item.Jobsite_ID__c}}</a>
                                </td>
                                <td>{{item?.Country__c}}</td>
                                <td>{{item?.jobsiteKeyContact?.LastName}}</td>
                                <td>{{item?.technicalEscalationCS?.LastName}}</td>
                                <td>{{item?.adminEscalationCS?.LastName}}</td>
                                <td>{{item?.serviceDeskCS?.LastName}}</td>
                                <td>{{item.vendor.MetroVirtualVendorPool?.SLA__c}}</td>
                                <td>{{item.vendor.account?.Name}}</td>
                                <td>{{item?.distance | number: '.2-2'}}Mi ({{item?.distance * 1.60934 | number: '.2-2'}}Km)
                                </td>
                            </tr>
                            <tr *ngIf="errorMessage">
                                <td colspan="9" class="alert alert-warning">
                                        {{errorMessage}}
                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </ng-template>
    </ngb-panel>
</ngb-accordion>
<ng-template #jobsitedetail let-c="close" let-d="dismiss">
    <div class="modal-header ">
        <h4 class="modal-title">Manage Jobsite</h4>
        <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body scroll-vertical740">
        <jobsite-detail [jobsite]="contentData"></jobsite-detail>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="c('Close click')">Close</button>
    </div>
</ng-template>