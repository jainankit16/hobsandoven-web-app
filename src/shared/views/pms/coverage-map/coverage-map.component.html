<div class="">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12 text-center">
                <top-wizard-panel [headTitle]="headTitle"></top-wizard-panel>
            </div>
        </div>
        <div class="row">
            <!--Left side content start here-->
            <div class="col-md-3">
                <div class="card">
                    <div class="card-header text-center text-white">
                        <b class="">Account</b>
                    </div>
                    <div *ngIf="!programParamsSFDCID" class="card-body content-padding leftScrollDiv posRelative">
                        <content-account></content-account>
                    </div>
                </div>
            </div>
            <!--End here-->
            <!--Right side content start here-->
            <div class="col-md-9">
                <div class="row">
                    <!--For Map View start here-->
                    <div class="col-md-8 covrg-map-sec">
                        <div class="covrg-map-legends text-center">
                            <span>
                                <b>Legends :</b>
                            </span>
                            <span>
                                <img src="../../../assets/img/map/default-icon.png" /> Active FSL</span>
                            <span>
                                <img src="../../../assets/img/map/blue-icon.png" /> Active 3PS </span>
                        </div>
                        <div class="covrg-map-loc-label" (mouseleave)="closeMapInfo()">
                            <ngui-map [zoom]="zoomm">
                                <marker *ngFor="let m of positions" [position]="m.position" [icon]="m.icon" (mouseover)="openMapInfo($event, m.accountLocation)"></marker>
                                <info-window align="center" id="Infowindow">
                                    <h3 align="center" class="text-themecolor">
                                        <span>{{accountMarkerLocation?.GEO_Description__c}} ({{accountMarkerLocation?.Country__c}})</span>
                                    </h3>
                                    <br/>
                                    <span align="center">{{accountMarkerLocation?.Street__c}}</span>
                                    <br/>
                                    <span>{{accountMarkerLocation?.City__c}}</span>
                                    <span>{{accountMarkerLocation?.State__c}}</span>
                                    <span>{{accountMarkerLocation?.Postal_Zip_Code__c}}</span>
                                    <br/>
                                    <span>{{accountMarkerLocation?.Country__c}}</span>
                                </info-window>
                            </ngui-map>
                        </div>
                    </div>
                    <!--End here-->
                    <div class="col-md-4">
                        <div>
                            <ngb-tabset [activeId]="tabActiveId" type="pills" (tabChange)="filterCompliancesData($event.nextId)">

                                <!-- 3PS  Section  -->
                                <ngb-tab id="3PS" [title]="threePsLabel">                               
                                    <ng-template ngbTabContent>
                                        <div class="table-responsive scroll-div-map border-t m-t-5" *ngIf="!errorMessage">
                                            <table class="table color-table info-table">
                                                <thead>
                                                    <tr>
                                                        <th>No</th>
                                                        <th>Service Zone</th>
                                                        <th *ngIf="isInternalUser">Service Provider</th>
                                                        <th>Talent Type</th>
                                                        <th>Level</th>
                                                        <th>SLA</th>
                                                        <th>Coverage</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let ps of cloneCompliancesData , let i = index">
                                                        <td>{{i+1}}</td>
                                                        <td>{{ps.GeoMetroName}}</td>
                                                        <td *ngIf="isInternalUser">{{ps.City__c}},{{ps.State_Province__c}}
                                                            <br/> {{ps.Postal_Zip_Code__c}}
                                                            <br/>{{ps.Country__c}}</td>
                                                        <td>{{ps.TalentType.Name}}</td>
                                                        <td>{{ps.Service_Technical_Level__c }}</td>
                                                        <td>{{ps.SLA__c}}</td>
                                                        <td>{{ps.Coverage_Hours__c}}</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        <div *ngIf="errorMessage">
                                            <div class="alert alert-warning m-t-5">{{errorMessage}}</div>
                                        </div>
                                        <div class="text-center m-t-5" *ngIf="userType == 'internal' && compliancesData.length > 0">
                                            <button *ngIf="!showProviderCost" class="btn btn-sm btn-info mRight" (click)="togglePriceList()">Show Service Provider Cost Information</button>
                                            <button *ngIf="showProviderCost" class="btn btn-sm btn-default" (click)="togglePriceList()">Hide Service Provider Cost Information</button>
                                        </div>
                                    </ng-template>
                                </ngb-tab>
                                <!-- 3PL Section  -->
                                <ngb-tab id="3PL/FSL" [title]="threePlLabel">
                                    <ng-template ngbTabContent>
                                        <div class="scroll-div-map border-t" style="overflow: auto;">
                                            <div class="row" *ngFor="let pl of cloneCompliancesData, let i = index">
                                                <div class="col-md-12 data-list-align">
                                                    <div class="row">
                                                        <h3 class="text-themecolor">
                                                            <span>{{pl.GeoMetro?.GEO_Description__c}} ({{pl.Country__c}})</span>
                                                            <!-- <span>{{pl.City__c}}</span> -->
                                                        </h3>
                                                        <br/>
                                                    </div>
                                                    <div class="row">
                                                        <p>
                                                            <span *ngIf="isInternalUser">{{pl.Street__c}}</span>
                                                            <br/>
                                                            <span>{{pl.City__c}}</span>
                                                            <span>{{pl.State__c}}</span>
                                                            <span>{{pl.Postal_Zip_Code__c}}</span>
                                                            <br/>
                                                            <span>{{pl.Country__c}}</span>
                                                        </p>
                                                    </div>
                                                    <hr/>
                                                </div>
                                            </div>
                                            <div *ngIf="errorMessage">
                                                <div class="alert alert-warning m-t-5">{{errorMessage}}</div>
                                            </div>
                                        </div>
                                    </ng-template>
                                </ngb-tab>
                            </ngb-tabset>
                        </div>
                    </div>
                </div>

                <div class="row m-t-5">
                    <div class="col-md-12">
                        <service-provider-cost [providerData]="compliancesData" *ngIf="showProviderCost"></service-provider-cost>
                    </div>
                </div>
            </div>
            <!--End here-->
            <br/>
        </div>
    </div>
</div>